{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{175:function(t,a,s){\"use strict\";s.r(a);var e=s(0),r=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"div\",{staticClass:\"content\"},[t._m(0),t._v(\" \"),s(\"blockquote\",[s(\"p\",[s(\"a\",{attrs:{href:\"https://taro.aotu.io/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Taro\"),s(\"OutboundLink\")],1),t._v(\"诞生之初是为了解决微信小程序开发的一系列痛点，并逐步演变成一个多终端开发框架。\")])]),t._v(\" \"),t._m(1),t._v(\" \"),t._m(2),t._v(\" \"),t._m(3),t._v(\" \"),t._m(4),t._v(\" \"),t._m(5),t._v(\" \"),s(\"p\",[t._v(\"在开发方式上，Taro打造了一套完善的编译工具，引入了前置编译的机制，可以自动化的对源文件进行一系列的处理，最终输出小程序的可执行文件，包括代码的编译转换处理，加入文件预处理功能，支持npm包管理等。\")]),t._v(\" \"),s(\"p\",[t._v(\"采用React语法开发的原因如下：\")]),t._v(\" \"),t._m(6),t._v(\" \"),t._m(7),t._v(\" \"),t._m(8),t._v(\" \"),t._m(9),t._v(\" \"),t._m(10),t._v(\" \"),s(\"blockquote\",[s(\"p\",[s(\"a\",{attrs:{href:\"https://www.npmjs.com/package/@tarojs/cli\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"taro-cli\"),s(\"OutboundLink\")],1),t._v(\"是Taro脚手架初始化和项目构建时的命令行工具\")])]),t._v(\" \"),s(\"p\",[t._v(\"taro-cli包位于taro工程的Packages目录下，全局安装之后，通过Taro命令可以进行一系列操作。\")]),t._v(\" \"),t._m(11),t._v(\" \"),s(\"p\",[t._v(\"先看一下Taro工程的目录结构。\")]),t._v(\" \"),t._m(12),t._v(\" \"),s(\"p\",[t._v(\"可以看到项目主要由一系列npm包组成，位于工程的Packages目录下，Taro的包管理方式和babel项目一样，将整个项目作为一个monorepo来进行管理，并且同样适用了包管理工具\"),s(\"a\",{attrs:{href:\"https://github.com/lerna/lerna\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Lerna\"),s(\"OutboundLink\")],1)]),t._v(\" \"),s(\"p\",[t._v(\"Packages下的几十个包中，Taro-cli就是其中之一。在Taro工程根目录运行lenra pubish命令之后，lerna.json文件里面配置好的所有包会发布到NPM上。\")]),t._v(\" \"),t._m(13),t._v(\" \"),s(\"p\",[t._v(\"taro-cli包的目录结构如下：\")]),t._v(\" \"),t._m(14),t._m(15),t._v(\" \"),t._m(16)])},[function(){var t=this.$createElement,a=this._self._c||t;return a(\"h1\",{attrs:{id:\"taro设计思想和原理解读\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#taro设计思想和原理解读\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Taro设计思想和原理解读\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h2\",{attrs:{id:\"设计思想\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#设计思想\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 设计思想\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h3\",{attrs:{id:\"关于小程序\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#关于小程序\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 关于小程序\")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"p\",[t._v(\"一个小程序页面或者组件有四部分组成：\"),s(\"code\",[t._v(\"脚本逻辑\")]),t._v(\"，\"),s(\"code\",[t._v(\"样式文件\")]),t._v(\"，\"),s(\"code\",[t._v(\"模板文件\")]),t._v(\"，\"),s(\"code\",[t._v(\"配置文件\")]),t._v(\"，即：\"),s(\"code\",[t._v(\"js\")]),t._v(\",\"),s(\"code\",[t._v(\"json\")]),t._v(\",\"),s(\"code\",[t._v(\"wxml\")]),t._v(\",\"),s(\"code\",[t._v(\"wxss\")]),t._v(\"，当开发一个功能模块时需要在各个文件间来回切换，其次是在前端工程化思想深入人心的今天，小程序的开发方式有些落伍，主要体现在以下方面：\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"ul\",[a(\"li\",[this._v(\"没有自定义文件预处理，无法直接使用Sass，Less等css预处理器\")]),this._v(\" \"),a(\"li\",[this._v(\"字符串模板模仿Vue，但是并没有提供Vue那么多的语法糖，当实现较为复杂的处理时，书写体验糟糕。\")]),this._v(\" \"),a(\"li\",[this._v(\"缺乏测试套件，无法编写测试代码来测试，不能进行持续集成和自动化打包\")])])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h3\",{attrs:{id:\"react语法开发小程序\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#react语法开发小程序\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" React语法开发小程序\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"ul\",[a(\"li\",[this._v(\"React是一个非常流行的框架，使用它可以降低开发者的学习成本\")]),this._v(\" \"),a(\"li\",[this._v(\"小程序的数据驱动模板更新的思想和实现机制与React类似\")]),this._v(\" \"),a(\"li\",[this._v(\"React使用JSX作为模板，JSX相对字符串模板更加自由，自然，不需要依赖各种语法糖也能完成比较复杂的处理\")]),this._v(\" \"),a(\"li\",[this._v(\"React本身的跨端处理方案：react-native，对于Taro来说有跨更多端的可能性\")])])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h3\",{attrs:{id:\"如何实现优雅开发\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#如何实现优雅开发\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 如何实现优雅开发\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"p\",[this._v(\"Taro采用的是\"),a(\"code\",[this._v(\"编译原理\")]),this._v(\"的思想，所谓编译原理，就是一个对输入的源代码进行 语法分析，语法树构建，随后对语法树进行转换操作再解析成目标代码的过程\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"p\",[a(\"img\",{attrs:{src:\"https://user-gold-cdn.xitu.io/2018/10/8/1665182480dfc020?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\",alt:\"\"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h2\",{attrs:{id:\"cli原理及运行机制\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#cli原理及运行机制\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" CLI原理及运行机制\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h3\",{attrs:{id:\"包管理与发布\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#包管理与发布\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 包管理与发布\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"p\",[a(\"img\",{attrs:{src:\"https://s2.ax1x.com/2019/05/19/EvAe58.png\",alt:\"\"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h3\",{attrs:{id:\"目录结构\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#目录结构\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 目录结构\")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n├── bin        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 命令行\")]),t._v(\"\\n│   ├── taro              \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// taro 命令\")]),t._v(\"\\n│   ├── taro\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"build        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// taro build 命令\")]),t._v(\"\\n│   ├── taro\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"update       \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// taro update 命令\")]),t._v(\"\\n│   └── taro\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"init         \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// taro init 命令\")]),t._v(\"\\n├── \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"json\\n├── node_modules\\n├── src\\n│   ├── build\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// taro build 命令调用，根据 type 类型调用不同的脚本\")]),t._v(\"\\n│   ├── config\\n│   │   ├── babel\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// Babel 配置\")]),t._v(\"\\n│   │   ├── babylon\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js      \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// JavaScript 解析器 babylon 配置\")]),t._v(\"\\n│   │   ├── browser_list\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// autoprefixer browsers 配置\")]),t._v(\"\\n│   │   ├── index\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 目录名及入口文件名相关配置\")]),t._v(\"\\n│   │   └── uglify\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n│   ├── creator\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n│   ├── h5\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js       \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 构建h5 平台代码\")]),t._v(\"\\n│   ├── project\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js  \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// taro init 命令调用，初始化项目\")]),t._v(\"\\n│   ├── rn\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js       \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 构建React Native 平台代码\")]),t._v(\"\\n│   ├── util        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 一系列工具函数\")]),t._v(\"\\n│   │   ├── index\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n│   │   ├── npm\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n│   │   └── resolve_npm_files\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n│   └── weapp\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 构建小程序代码转换\")]),t._v(\"\\n├── templates           \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 脚手架模版\")]),t._v(\"\\n│   └── \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"default\")]),t._v(\"\\n│       ├── appjs\\n│       ├── config\\n│       │   ├── dev\\n│       │   ├── index\\n│       │   └── prod\\n│       ├── editorconfig\\n│       ├── eslintrc\\n│       ├── gitignore\\n│       ├── index\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js    \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 初始化文件及目录，copy模版等\")]),t._v(\"\\n│       ├── indexhtml\\n│       ├── npmrc\\n│       ├── pagejs\\n│       ├── pkg\\n│       └── scss\\n└── yarn\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\"error\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"log\\n\")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h2\",{attrs:{id:\"jsx转换各端模板\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jsx转换各端模板\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" JSX转换各端模板\")])},function(){var t=this.$createElement,a=this._self._c||t;return a(\"h2\",{attrs:{id:\"运行时实现\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#运行时实现\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 运行时实现\")])}],!1,null,null,null);r.options.__file=\"taro-forward.md\";a.default=r.exports}}]);","extractedComments":[]}